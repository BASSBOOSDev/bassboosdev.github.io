<!DOCTYPE html>
<html lang="es">
<head>
<link rel="icon" href="icon.png" type="image/png">
<link rel="manifest" href="manifest.json">
<meta charset="UTF-8">
<title>BASSBOOSDev</title>

<style>
body{
    margin:0;
    font-family:Consolas,monospace;
    background:linear-gradient(135deg,#1b1f2a,#12151c);
    color:#eaeaea;
}

/* ========== HEADER ========== */
header{
    display:grid;
    grid-template-columns: auto 1fr auto;
    align-items:center;
    padding:14px 20px;
    background:#11141b;
    position:sticky;
    top:0;
    z-index:5;
}

/* IZQUIERDA */
.header-left{
    display:flex;
    align-items:center;
    gap:10px;
    cursor:pointer;
}

.header-left img{
    width:36px;
    height:36px;
    border-radius:8px;
    object-fit:cover;
    background:#1e2330;
}

.brand{
    font-weight:bold;
    letter-spacing:1px;
    color:#cfd6ff;
}

/* CENTRO */
.project-name{
    text-align:center;
    font-size:18px;
    outline:none;
    color:#cfd6ff;
}

/* DERECHA */
.header-buttons{
    display:flex;
    gap:10px;
}

.header-btn{
    background:#121722;
    border:1px solid #1e2330;
    color:#cfd6ff;
    padding:7px 14px;
    border-radius:10px;
    cursor:pointer;
}

/* ========== MODAL LINK ========== */
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.75);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:10;
}

.modal-box{
    background:#0f1218;
    padding:20px;
    border-radius:14px;
    width:340px;
}

.modal-box input{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:none;
    background:#121722;
    color:#cfd6ff;
}

.modal-actions{
    display:flex;
    gap:10px;
    margin-top:12px;
}

.modal-actions button{
    flex:1;
    padding:8px;
    border:none;
    border-radius:8px;
    cursor:pointer;
}

.accept{background:#00ff9c;color:#000;}
.cancel{background:#1e2330;color:#cfd6ff;}

/* ========== PROGRESS ========== */
.progress-box{ margin:20px; }
.progress-bar{
    height:10px;
    background:#1e2330;
    border-radius:10px;
    overflow:hidden;
}
.progress{
    height:100%;
    width:0%;
    background:#00ff9c;
    transition:.3s;
}

/* ========== POMODORO ========== */
.pomodoro{
    margin:20px;
    background:#0f1218;
    padding:14px;
    border-radius:14px;
    display:flex;
    justify-content:space-between;
}
.pomo-btn{
    background:#121722;
    border:none;
    color:#cfd6ff;
    padding:6px 14px;
    border-radius:8px;
    cursor:pointer;
}

/* ========== EDITOR ========== */
.editor{
    margin:20px;
    background:#0f1218;
    border-radius:14px;
}
.linea{
    display:grid;
    grid-template-columns:40px 1fr 110px 40px;
    align-items:center;
    padding:10px;
    border-bottom:1px solid #1e2330;
}
.texto{outline:none;color:#cfd6ff;}
.texto:empty::before{content:"Escrib√≠ ac√°...";color:#5f6a85;}

.prio{
    background:#121722;
    border:none;
    color:#cfd6ff;
    border-radius:6px;
}

.alta{border-left:4px solid #ff4d4d;}
.media{border-left:4px solid #ffd84d;}
.baja{border-left:4px solid #4dff88;}

.check{cursor:pointer;text-align:center;font-size:18px;}
.check.completo{color:#00ff9c;}

.add{
    text-align:center;
    padding:14px;
    cursor:pointer;
    background:#121722;
    font-size:24px;
}

/* ========== FELICIDADES ========== */
#finish{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.85);
    display:none;
    align-items:center;
    justify-content:center;
    z-index:20;
    text-align:center;
}
#finish button{
    margin-top:20px;
    padding:8px 16px;
    border:none;
    border-radius:8px;
    cursor:pointer;
    background:#00ff9c;
    font-weight:bold;
}

/* ========== CONFETI ========== */
#confetti{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:30;
}

/* ========== FOOTER (solo al bajar) ========== */
.footer{
    margin-top:120px;
    background:#0f1218;
    padding:14px;
    text-align:center;
    position:sticky;
    bottom:0;
}

.marquee{
    white-space:nowrap;
    animation:scroll 25s linear infinite;
    color:#5f6a85;
}

@keyframes scroll{
    from{transform:translateX(100%);}
    to{transform:translateX(-100%);}
}

.socials{
    margin-top:10px;
    display:flex;
    justify-content:center;
    gap:16px;
}
.socials a{
    color:#cfd6ff;
    text-decoration:none;
    font-size:14px;
}
</style>
</head>

<body>

<canvas id="confetti"></canvas>

<header>
    <!-- IZQ -->
    <div class="header-left" onclick="logoInput.click()">
        <img id="logo">
        <span class="brand">BASSBOOSDev</span>
        <input type="file" id="logoInput" hidden accept="image/*">
    </div>

    <!-- CENTRO -->
    <div class="project-name" contenteditable id="projectName">
        T√≠tulo del proyecto
    </div>

    <!-- DER -->
    <div class="header-buttons">
        <button class="header-btn" onclick="openModal()">üîó Link</button>
        <button class="header-btn" id="openBtn" style="display:none" onclick="openURL()">üöÄ Abrir</button>
    </div>
</header>

<div class="progress-box">
    <div class="progress-bar"><div class="progress" id="progress"></div></div>
</div>

<div class="pomodoro">
    <div id="time">25:00</div>
    <div>
        <button class="pomo-btn" id="playBtn" onclick="togglePomo()">‚ñ∂</button>
        <button class="pomo-btn" onclick="resetPomo()">‚ü≤</button>
    </div>
</div>

<div class="editor" id="editor"></div>
<div class="add" onclick="crearLinea()">Ôºã</div>

<!-- MODAL LINK -->
<div class="modal" id="modal">
    <div class="modal-box">
        <input id="urlInput" placeholder="URL del proyecto Roblox">
        <div class="modal-actions">
            <button class="accept" onclick="saveURL()">Aceptar</button>
            <button class="cancel" onclick="closeModal()">Cancelar</button>
        </div>
    </div>
</div>

<!-- FELICIDADES -->
<div id="finish">
    <div>
        üéâ ¬°FELICIDADES! PROYECTO COMPLETADO üéâ
        <br>
        <button onclick="cerrarFinish()">Continuar</button>
    </div>
</div>

<!-- FOOTER -->
<div class="footer">
    <div class="marquee">
        üéÆ Termin√° lo que empez√°s ‚Ä¢ üöÄ Cada l√≠nea cuenta ‚Ä¢ üß† Aprender es avanzar ‚Ä¢ üèÜ Public√° sin miedo
    </div>
    <div style="margin-top:10px;font-size:13px;color:#5f6a85">
        Auto-ayudante: <b>Bassboos</b> ¬∑ Asistente IA: <b>OpenAI (ChatGPT)</b>
    </div>
    <div class="socials">
        <a href="https://www.youtube.com/@BASSBOOSShorts" target="_blank">‚ñ∂ YouTube</a>
        <a href="https://x.com/BASSBOOSDev" target="_blank">‚ùå X</a>
        <a href="https://chat.openai.com" target="_blank">ü§ñ ChatGPT</a>
    </div>
</div>

<script>
/* LOGO */
logo.src=localStorage.getItem("logo")||"";
logoInput.onchange=e=>{
    const r=new FileReader();
    r.onload=()=>{logo.src=r.result;localStorage.setItem("logo",r.result);}
    r.readAsDataURL(e.target.files[0]);
};

/* TITULO */
projectName.textContent=localStorage.getItem("title")||projectName.textContent;
projectName.oninput=()=>localStorage.setItem("title",projectName.textContent);

/* LINK */
function openModal(){modal.style.display="flex";}
function closeModal(){modal.style.display="none";}
function saveURL(){
    localStorage.setItem("url",urlInput.value);
    openBtn.style.display="inline-block";
    closeModal();
}
function openURL(){window.open(localStorage.getItem("url"),"_blank");}
if(localStorage.getItem("url"))openBtn.style.display="inline-block";

/* EDITOR */
const editor=document.getElementById("editor");
const progress=document.getElementById("progress");
let finished=false;

function crearLinea(){
    const l=document.createElement("div");
    l.className="linea baja";
    l.innerHTML=`
        <div></div>
        <div class="texto" contenteditable></div>
        <select class="prio" onchange="setPrio(this)">
            <option value="baja">üü¢ Baja</option>
            <option value="media">üü° Media</option>
            <option value="alta">üî¥ Alta</option>
        </select>
        <div class="check" onclick="toggleCheck(this)">‚òê</div>
    `;
    editor.appendChild(l);
}

function setPrio(s){
    const l=s.parentElement;
    l.classList.remove("alta","media","baja");
    l.classList.add(s.value);
}

function toggleCheck(c){
    c.classList.toggle("completo");
    c.textContent=c.textContent==="‚òê"?"‚úî":"‚òê";
    updateProgress();
}

function updateProgress(){
    const t=document.querySelectorAll(".check").length;
    const d=document.querySelectorAll(".check.completo").length;
    progress.style.width=(d/t*100||0)+"%";
    if(d===t && t>0 && !finished){
        finished=true;
        finish.style.display="flex";
        lanzarConfeti();
    }
}

for(let i=0;i<3;i++)crearLinea();

/* POMODORO */
let time=1500,run=false,int;
const timeEl=document.getElementById("time");
function updateTime(){
    timeEl.textContent=
    String(Math.floor(time/60)).padStart(2,"0")+":"+
    String(time%60).padStart(2,"0");
}
function togglePomo(){
    if(!run){
        run=true;playBtn.textContent="‚è∏";
        int=setInterval(()=>{time--;updateTime();},1000);
    }else{
        run=false;playBtn.textContent="‚ñ∂";clearInterval(int);
    }
}
function resetPomo(){
    clearInterval(int);run=false;time=1500;playBtn.textContent="‚ñ∂";updateTime();
}
updateTime();

/* CONFETI */
const canvas=document.getElementById("confetti");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;
let conf=[];
function lanzarConfeti(){
    for(let i=0;i<150;i++){
        conf.push({
            x:Math.random()*canvas.width,
            y:Math.random()*canvas.height,
            r:Math.random()*6+2,
            c:`hsl(${Math.random()*360},100%,50%)`,
            s:Math.random()*3+2
        });
    }
    animar();
}
function animar(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    conf.forEach(p=>{
        ctx.fillStyle=p.c;
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fill();
        p.y+=p.s;
        if(p.y>canvas.height)p.y=0;
    });
    if(conf.length)requestAnimationFrame(animar);
}
function cerrarFinish(){
    finish.style.display="none";
    conf=[];
}
</script>

</body>
</html>

